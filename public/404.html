<script>
    var pathname = window.location.pathname;

    // Define metadata for known pages
    var metaInfo = {
        "/": {
            title: "Whimsylabs - Award Winning Virtual Labs",
            description: "Whimsylabs provides virtual labs for Biology, Chemistry, Physics, and more. Used in Schools, Colleges, and Universities.",
        },
        "/blog": {
            title: "Whimsylabs Blog - Latest Virtual Lab Innovations",
            description: "Stay updated with Whimsylabs' latest news on virtual laboratory technology and STEM education.",
        },
        "/services": {
            title: "Whimsylabs Services - Virtual Labs for Education",
            description: "Discover Whimsylabs' virtual lab solutions for enhancing STEM education through AI-driven simulations.",
        },
        "/features": {
            title: "Whimsylabs Features - Cutting-Edge Virtual Lab Technology",
            description: "Explore the powerful features of Whimsylabs, from immersive simulations to AI-driven experiments for STEM education.",
        }
    };

    if (!metaInfo[pathname]) {
        // Show a 404 page instead of redirecting
        document.title = "404 Not Found - Whimsylabs";
        document.body.innerHTML = `
            <div style="text-align: center; font-family: Arial, sans-serif; padding: 50px;">
                <h1>404 - Page Not Found</h1>
                <p>The page you are looking for does not exist.</p>
                <a href="/" style="text-decoration: none; font-size: 18px; color: #007bff;">Go back to Homepage</a>
            </div>
        `;
    } else {
        // Update the page title and metadata dynamically
        var pageMeta = metaInfo[pathname];

        document.title = pageMeta.title;

        function updateMetaTag(name, content) {
            var meta = document.createElement("meta");
            meta.name = name;
            meta.content = content;
            document.head.appendChild(meta);
        }

        updateMetaTag("description", pageMeta.description);
        updateMetaTag("robots", "index, follow");

        updateMetaTag("og:title", pageMeta.title);
        updateMetaTag("og:description", pageMeta.description);
        updateMetaTag("og:url", "https://whimsylabs.ai" + pathname);

        window.location.replace("/?redirect=" + pathname);
    }
</script>
